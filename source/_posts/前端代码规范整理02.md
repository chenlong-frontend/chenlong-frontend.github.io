---
title: 前端代码规范整理02 -css
author: 陈龙
date: 2019-02-20 08:52:55
tags: [css]
categories: [css]
---

### CSS Sprites 使用建议

- 适合使用频率高更新频率低的小图标
- 尽量不留太多的空白
- 体积较大的图片不合并
- 确保要合并的小图坐标数值和合并后的 `Sprites` 图尺寸均为偶数

### Data URIs（base64 编码）使用建议

- 适合更新频率高的小图片，如某些具备自定义功能的标题 `icon` 等
- 转换成 `Base64` 编码的图片应小于 2KB
- 移动端不使用 `Base64` 编码
- 要兼容 `IE6/IE7` 的不使用

### 文档外链样式表编码

文档外链样式表的编码可以由以下各项按照由高到低的优先级顺序决定：

- HTTP “Content-Type” 字段参数 “charset”（或其它协议相似的参数）
- BOM（byte-order mark）和（或）@charset
- Link 中的元数据设置（如果有的话）
- 引用样式表字符集或文档编码（如果有的话）
- 假定为 UTF-8 编码

约定

- 样式文件必须写上 @charset 规则，并且一定要在样式文件的第一行首个字符位置开始写，编码名用“UTF-8”
- 字符 @charset “”; 都用小写字母，不能出现转义符，编码名允许大小混写
- 考虑到在使用“UTF-8”编码情况下 BOM 对代码的污染和编码显示的问题，在可控范围下，坚决不使用 BOM。

推荐：

```css
@charset "UTF-8";

.jdc {
}
```

不推荐：

```css
/**
 * @desc File Info
 * @author Author Name
 * @date 2015-10-10
 */

/* @charset规则不在文件首行首个字符开始 */
@charset "UTF-8";

.jdc {
}
```

### 选择器

- 尽量少用通用选择器
- 不使用 `ID` 选择器
- 不使用无具体语义定义的标签选择器

```css
/* 推荐 */
.jdc {
}
.jdc li {
}
.jdc li p {
}

/* 不推荐 */
* {
}
#jdc {
}
.jdc div {
}
```

### 代码易读性

为单个 `css` 选择器或新申明开启新行

推荐：

```css
.jdc,
.jdc_logo,
.jdc_hd {
  color: #ff0;
}
.nav {
  color: #fff;
}
```

不推荐：

```css
.jdc,
jdc_logo,
.jdc_hd {
  color: #ff0;
}
.nav {
  color: #fff;
}
```

颜色值 `rgb() rgba() hsl() hsla() rect()` 中不需有空格，且取值不要带有不必要的 0

推荐：

```css
.jdc {
  color: rgba(255, 255, 255, 0.5);
}
```

不推荐：

```css
.jdc {
  color: rgba(255, 255, 255, 0.5);
}
```

属性值十六进制数值能用简写的尽量用简写

推荐：

```css
.jdc {
  color: #fff;
}
```

不推荐：

```css
.jdc {
  color: #ffffff;
}
```

### 属性值引号

`css` 属性值需要用到引号时，统一使用单引号

```css
/* 推荐 */
.jdc {
  font-family: 'Hiragino Sans GB';
}

/* 不推荐 */
.jdc {
  font-family: 'Hiragino Sans GB';
}
```

### 属性书写顺序

建议遵循以下顺序：

- 布局定位属性：`display / position / float / clear / visibility / overflow`
- 自身属性：`width / height / margin / padding / border / background`
- 文本属性：`color / font / text-decoration / text-align / vertical-align / white- space / break-word`
- 其他属性（CSS3）：`content / cursor / border-radius / box-shadow / text-shadow / background:linear-gradient`…

```css
.jdc {
  display: block;
  position: relative;
  float: left;
  width: 100px;
  height: 100px;
  margin: 0 10px;
  padding: 20px 0;
  font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
  color: #333;
  background: rgba(0, 0, 0, 0.5);
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  -o-border-radius: 10px;
  -ms-border-radius: 10px;
  border-radius: 10px;
}
```

### CSS3 浏览器私有前缀写法

CSS3 浏览器私有前缀在前，标准前缀在后

```css
.jdc {
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  -o-border-radius: 10px;
  -ms-border-radius: 10px;
  border-radius: 10px;
}
```

### css 注释

#### 单行注释

注释内容第一个字符和最后一个字符都是一个空格字符，单独占一行，行与行之间相隔一行

推荐：

```css
/* Comment Text */
.jdc {
}

/* Comment Text */
.jdc {
}
```

#### 模块注释

注释内容第一个字符和最后一个字符都是一个空格字符，/_ 与 模块信息描述占一行，多个横线分隔符-与_/占一行，行与行之间相隔两行

推荐：

```css
/* Module A
---------------------------------------------------------------- */
.mod_a {
}

/* Module B
---------------------------------------------------------------- */
.mod_b {
}
```

不推荐：

```css
/* Module A ---------------------------------------------------- */
.mod_a {
}
/* Module B ---------------------------------------------------- */
.mod_b {
}
```

#### 文件信息注释

在样式文件编码声明 `@charset` 语句下面注明页面名称、作者、创建日期等信息

```css
@charset "UTF-8";
/**
 * @desc File Info
 * @author Author Name
 * @date 2015-10-10
 */
```

### 移动端常用私有属性

#### -webkit-scrollbar

- `-webkit-scrollbar` 是`-webkit-`私有的伪元素，用于对拥有 `overflow` 属性的区域 自定义滚动条的样式。

- `::-webkit-scrollbar`：滚动条整体部分。可设置 `width`、`height`、`background`、`border` 等。

- `::-webkit-scrollbar-button`：滚动条两端的按钮。可以用 `display:none` 让其不显示，也可以添加背景图片，颜色改变显示效果。

- `::-webkit-scrollbar-track`：轨道。可以用 `display:none` 让其不显示，也可以添加背景图片，颜色改变显示效果。

- `::-webkit-scrollbar-track-piece`：轨枕，也就是除去滚动滑块的部分。

- `::-webkit-scrollbar-thumb`：滚动滑块，也就是滚动条里面可以拖动的那部分。

- `::-webkit-scrollbar-corner`：滚动按钮的夹角则被称为滚动角。

- `::-webkit-resizer`：用于定义右下角拖动块的样式。

下面的伪类可以应用到上面的伪元素中。

- `:horizontal`：选择水平方向的滚动条。

- `:vertical`：选择垂直方向的滚动条。

- `:decrement`：适用于滚动按钮和轨枕。选择能够使得视窗位置递减状态(例如，垂直滚动条向上滚动，水平滚动条向左滚动。)的滚动按钮或轨枕。

- `:increment`：适用于滚动按钮和轨枕。选择能够使得视窗位置递增状态(例如，垂直滚动条向下滚动，水平滚动条向右滚动。)的滚动按钮或轨枕。

- `:start`：适用于滚动按钮和轨枕。选择位于滚动滑块前边的滚动按钮和轨枕。

- `:end`：适用于滚动按钮和轨枕。选择位于滚动滑块后边的滚动按钮和轨枕。

- `:double-button`：适用于滚动按钮和轨枕。选中紧挨着一对按钮的轨枕以及位于滚动条某一端的一对按钮中的其中一个滚动按钮。

- `:single-button`：适用于滚动按钮和轨枕。选中紧挨着仅一个按钮的轨枕以及位于滚动条某一端的仅它本身一个的滚动按钮。

- `:no-button`：适用于轨枕。选中轨道结束位置没有按钮的轨枕。

- `:corner-present`：适用于选中滚动角不存在的滚动条。

- `:window-inactive`：适用于所有滚动条，选中焦点不在该视窗的滚动区域。

另外，`:enabled`、`:disabled`、`:hover`、和`:active` 等伪类同样在滚动条中适用。
为了更好地理解，以下是几个伪元素组合伪类的应用例子：

```css
::-webkit-scrollbar-track-piece:start {
 /\*滚动条上半边或左半边\*/
}
::-webkit-scrollbar-thumb:window-inactive {
 /\*当焦点不在当前区域滑块的状态\*/

::-webkit-scrollbar-button:horizontal:decrement:hover {
 /\*当鼠标在水平滚动条下面的按钮上的状态\*/
```

#### -webkit-touch-callout

当你触摸并按住触摸目标时候，禁止或显示系统默认菜单。在 iOS 上，当你触摸并按住触摸的目标，比如一个链接，Safari 浏览器将显示链接有关的系统默认菜单，这个属性可以让你禁用系统默认菜单。

#### -webkit-tap-highlight-color

在 iOS Safari 上，当用户点击链接或具有 JavaScript 可点击脚本的元素，系统会为这些被点击元素加上一个默认的透明色值，该属性可以覆盖该透明值。

#### -webkit-overflow-scrolling

定义在具 `overflow:scroll` 属性的元素内是否采用原生样式滚动行为

#### -webkit-line-clamp

限制在一个块元素显示的文本的行数。 为了实现该效果，它需要组合其他外来的 WebKit 属性。

常见结合属性：

- `display: -webkit-box`：必须结合的属性，将对象作为弹性伸缩盒子模型显示。
- `-webkit-box-orient`：必须结合的属性，设置或检索伸缩盒对象的子元素的排列方式。
- `text-overflow`：可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本。

#### -webkit-appearance

改变按钮和其他控件的外观，使其类似于原生控件。

#### -webkit-font-smoothing

字体平滑，该属性定义文本的平滑属性，但要注意以下说明：

非标准属性，不建议用于网页上，这个属性不能保证所有用户都能看到相同效果，这会使网站的字体渲染造成不一致，而此属性的渲染行为日后也有可能会改变

#### -webkit-mask

定义多样的蒙板效果属性

#### -webkit-user-select

定义用户是否能选中元素内容

#### -webkit-user-modify

定义用户是否可编辑元素内容

#### -webkit-text-stroke

定义文本描边，可以设计描边的宽和颜色，一般与文本填充属性 -webkit-text-fill-color 共用。

#### -webkit-text-size-adjust

定义 iOS Safari 网页文本大小调整属性

#### -webkit-marquee

定义滚动文本内容属性（缩写属性，类似 margin）。

#### -webkit-filter

滤镜属性可以让元素本身内容（文本、背景等）及其子元素加上滤镜效果

#### -webkit-backdrop-filter

背景滤镜属性可以让元素的背景或元素层级以下的元素加上滤镜效果

#### position:-webkit-sticky

可以使得元素在页面没有滚动的情况下表现得像 relative，在滚动条滚到该元素区域的时候根据 top 值的设置使元素固定离顶部的距离，表现像 position:fixed，也就是常见的吸顶需求效果。

### 图片命名

图片命名建议以以下顺序命名：

图片业务（可选） +（mod\_）图片功能类别（必选）+ 图片模块名称（可选） + 图片精度（可选）

图片业务：

- wx\_：微信

图片功能类别：

- mod\_：是否公共，可选
- icon：模块类固化的图标
- logo：LOGO 类
- spr：单页面各种元素合并集合
- btn：按钮
- bg：可平铺或者大背景

图片模块名称：

- goodslist：商品列表
- goodsinfo：商品信息
- userava tar：用户头像

图片精度：

- 普清：`@1x`
- Retina：`@2x | @3x`

如下面例子：

```
公共模块：
wx_mod_btn_goodlist@2x.png
wx_mod_btn_goodlist.png
mod_btn_goodlist.png

非公共模块：
wx_btn_goodlist@2x.png
wx_btn_goodlist.png
btn_goodlist.png
```

### ClassName 命名

ClassName 的命名应该尽量精短、明确，必须以字母开头命名，且全部字母为小写，单词之间统一使用下划线 “\_” 连接

ClassName 这块如果是不大量使用 ui 框架的话，我个人更喜欢使用`BEM`命名

祖先模块不能出现下划线，除了是全站公用模块，如 `mod\_` 系列的命名：

推荐：

```html
<div class="modulename">
  <div class="modulename_info">
    <div class="modulename_son"></div>
    <div class="modulename_son"></div>
    ...
  </div>
</div>

<!-- 这个是全站公用模块，祖先模块允许直接出现下划线 -->
<div class="mod_info">
  <div class="mod_info_son"></div>
  <div class="mod_info_son"></div>
  ...
</div>
```

在子孙模块数量可预测的情况下，严格继承祖先模块的命名前缀

当子孙模块超过 4 级或以上的时候，可以考虑在祖先模块内具有识辨性的独立缩写作为新的子孙模块

推荐：

```html
<div class="modulename">
  <div class="modulename_cover"></div>
  <div class="modulename_info">
    <div class="modulename_info_user">
      <div class="modulename_info_user_img">
        <img src="" alt="" />
        <!-- 这个时候 miui 为 modulename_info_user_img 首字母缩写-->
        <div class="miui_tit"></div>
        <div class="miui_txt"></div>
        ...
      </div>
    </div>
    <div class="modulename_info_list"></div>
  </div>
</div>
```

### 模块命名

全站公共模块：以 `mod\_` 开头

```html
<div class="mod_yours"></div>
```

业务公共模块：以 业务名*mod* 开头

```html
<div class="paipai_mod_yours"></div>
```

### 常用命名推荐

注意：`ad`、`banner`、`gg`、`guanggao` 等有机会和广告挂勾的字不建议直接用来做 ClassName，因为有些浏览器插件（Chrome 的广告拦截插件等）会直接过滤这些类名

| ClassName              |                   含义                   |   ClassName   |             含义             |
| :--------------------- | :--------------------------------------: | :-----------: | :--------------------------: |
| about                  |                   关于                   |    account    |             账户             |
| arrow                  |                 箭头图标                 |    article    |             文章             |
| aside                  |                   边栏                   |     audio     |             音频             |
| avatar                 |                   头像                   | bg,background |             背景             |
| bar                    |               栏（工具类）               |   branding    |            品牌化            |
| crumb,breadcrumbs      |                  面包屑                  |  btn,button   |             按钮             |
| caption                |                标题，说明                |   category    |             分类             |
| chart                  |                   图表                   |   clearfix    |           清除浮动           |
| close                  |                   关闭                   |  col,column   |              列              |
| comment                |                   评论                   |   community   |             社区             |
| container              |                   容器                   |    content    |             内容             |
| copyright              |                   版权                   |    current    |        当前态，选中态        |
| default                |                   默认                   |  description  |             描述             |
| details                |                   细节                   |   disabled    |            不可用            |
| entry                  |                文章，博文                |     error     |             错误             |
| even                   |       偶数，常用于多行列表或表格中       |     fail      |         失败（提示）         |
| feature                |                   专题                   |     fewer     |             收起             |
| field                  |            用于表单的输入区域            |    figure     |              图              |
| filter                 |                   筛选                   |     first     |     第一个，常用于列表中     |
| footer                 |                   页脚                   |     forum     |             论坛             |
| gallery                |                   画廊                   |     group     |        模块，清除浮动        |
| header                 |                   页头                   |     help      |             帮助             |
| hide                   |                   隐藏                   |  hightlight   |             高亮             |
| home                   |                   主页                   |     icon      |             图标             |
| info,information       |                   信息                   |     last      |    最后一个，常用于列表中    |
| links                  |                   链接                   |     login     |             登录             |
| logout                 |                   退出                   |     logo      |             标志             |
| main                   |                   主体                   |     menu      |             菜单             |
| meta                   | 作者、更新时间等信息栏，一般位于标题之下 |    module     |             模块             |
| more                   |               更多（展开）               |  msg,message  |             消息             |
| nav,navigation         |                   导航                   |     next      |            下一页            |
| nub                    |                   小块                   |      odd      | 奇数，常用于多行列表或表格中 |
| off                    |                 鼠标离开                 |      on       |           鼠标移过           |
| output                 |                   输出                   |  pagination   |             分页             |
| pop,popup              |                   弹窗                   |    preview    |             预览             |
| previous               |                  上一页                  |    primary    |             主要             |
| progress               |                  进度条                  |   promotion   |             促销             |
| rcommd,recommendations |                   推荐                   | reg,register  |             注册             |
| save                   |                   保存                   |    search     |             搜索             |
| secondary              |                   次要                   |    section    |             区块             |
| selected               |                   已选                   |     share     |             分享             |
| show                   |                   显示                   |    sidebar    |          边栏，侧栏          |
| slide                  |             幻灯片，图片切换             |     sort      |             排序             |
| sub                    |              次级的，子级的              |    submit     |             提交             |
| subscribe              |                   订阅                   |   subtitle    |            副标题            |
| success                |               成功（提示）               |    summary    |             摘要             |
| tab                    |                  标签页                  |     table     |             表格             |
| txt,text               |                   文本                   |   thumbnail   |            缩略图            |
| time                   |                   时间                   |     tips      |             提示             |
| title                  |                   标题                   |     video     |             视频             |
| wrap                   |         容器，包，一般用于最外层         |    wrapper    |   容器，包，一般用于最外层   |

这部分我个人认为挺重要的，对于命名统一和语义化className都很有帮助